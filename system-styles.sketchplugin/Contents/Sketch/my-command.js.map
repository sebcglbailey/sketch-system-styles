{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/my-command.js","webpack://exports/external \"sketch\"","webpack://exports/external \"sketch/dom\"","webpack://exports/external \"sketch/ui\""],"names":["Sketch","require","UI","SharedStyle","Text","Color","textLayers","shapeLayers","colors","noOfStyles","sharedStyles","sharedStyleNames","options","leftName","rightName","centerName","currentTextLayer","currentColorLayer","document","getSelectedDocument","selected","selectedLayers","layers","hexToRgb","hex","result","exec","r","parseInt","g","b","a","newLabel","text","frame","arguments","length","undefined","rect","NSMakeRect","label","NSTextField","alloc","initWithFrame","setStringValue","setFont","NSFont","systemFontOfSize","setBezeled","setDrawsBackground","setEditable","setSelectable","newDescription","setTextColor","NSColor","colorWithCalibratedRed_green_blue_alpha","newInput","input","setPlaceholderString","onRun","context","getLayers","map","obj","type","push","color","style","fills","name","rgba","alerts","alert","buildModal","COSAlertWindow","setMessageText","alignmentLabel","addAccessoryView","leftInput","rightInput","centerInput","addButtonWithTitle","response","runModal","handleModal","left","stringValue","right","center","runScript","loopText","log","loopColors","textLayer","callback","addColorToName","colorName","includes","replace","createTextLayer","newText","_object","primitiveTextStyle","attributes","MSAttributedStringColorAttribute","red","green","blue","alpha","addAlignments","textObj","addAlignment","alignment","alignName","textAlignment","addStyle","getSharedTextStyles","existing","filter","sharedStyle","fromStyle","reAddColor","textStyle"],"mappings":"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","file":"my-command.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/my-command.js\");\n","var Sketch = require('sketch')\nvar UI = require('sketch/ui')\nvar SharedStyle = require('sketch/dom').SharedStyle\nvar Text = require('sketch/dom').Text\nvar Color = require('sketch/dom').Color\n\nvar textLayers = []\nvar shapeLayers = []\nvar colors = []\nvar noOfStyles = 0;\nvar sharedStyles;\nvar sharedStyleNames = [];\nvar options = {\n\tleftName: \"01 Left\",\n\trightName: \"02 Right\",\n\tcenterName: \"03 Center\"\n}\n\nvar currentTextLayer = 0\nvar currentColorLayer = 0\n\nconst document = Sketch.getSelectedDocument()\nconst selected = document.selectedLayers.layers\n\nfunction hexToRgb(hex) {\n\tif (hex) {\n\t    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\t    return result ? {\n\t        r: parseInt(result[1], 16)/255,\n\t        g: parseInt(result[2], 16)/255,\n\t        b: parseInt(result[3], 16)/255,\n\t        a: parseInt(result[4], 16)/255\n\t    } : null;\n\t}\n}\n\n// Create label\nfunction newLabel(text) {\n  var frame = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var rect = NSMakeRect(0, 0, 240, 20);\n\n  var label = NSTextField.alloc().initWithFrame(rect);\n\n  label.setStringValue(text);\n  label.setFont(NSFont.systemFontOfSize(14));\n  label.setBezeled(false);\n  label.setDrawsBackground(false);\n  label.setEditable(false);\n  label.setSelectable(false);\n\n  return label;\n}\n\n// Create text description field\nfunction newDescription(text) {\n  var frame = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var rect = NSMakeRect(0, 0, 240, 38);\n\n  var label = NSTextField.alloc().initWithFrame(rect);\n\n  label.setStringValue(text);\n  label.setFont(NSFont.systemFontOfSize(11));\n  label.setTextColor(NSColor.colorWithCalibratedRed_green_blue_alpha(0, 0, 0, 0.5));\n  label.setBezeled(false);\n  label.setDrawsBackground(false);\n  label.setEditable(false);\n  label.setSelectable(false);\n\n  return label;\n}\n\n// Create a text input area\nfunction newInput(text) {\n\tvar frame = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\tvar rect = NSMakeRect(0, 0, 240, 24)\n\n\tvar input = NSTextField.alloc().initWithFrame(rect)\n\n\tinput.setPlaceholderString(text)\n\n\treturn input\n}\n\n// Function that runs when the user runs the plugin\nvar onRun = function(context) {\n\n  textLayers = []\n  shapeLayers = []\n  colors = []\n\n  getLayers()\n\n}\n\n// Get the currently selected layers and push them to the arrays\nconst getLayers = function() {\n  selected.map((obj) => {\n    if (obj.type == \"Text\") {\n      textLayers.push(obj)\n    } else if (obj.type == \"ShapePath\") {\n      shapeLayers.push(obj)\n      var color = hexToRgb(obj.style.fills[0].color)\n      colors.push({\n        name: obj.name,\n        rgba: color,\n        hex: obj.style.fills[0].color\n      })\n    }\n  })\n  alerts()\n}\n\n// Show any alerts\nconst alerts = function() {\n  if (textLayers.length == 0) {\n\t\tUI.alert(\n\t\t\t\"No text layers selected.\",\n\t\t\t\"Make sure to select at least one text layer in order to create your text styles.\"\n\t\t)\n\t\treturn\n\t} else if (colors.length == 0) {\n\t\tUI.alert(\n\t\t\t\"No colors selected.\",\n\t\t\t\"To create multiple colours for your text styles, select any shapes with a fill colour.\"\n\t\t)\n  }\n  buildModal()\n}\n\n// Build the modal for alignment input\nconst buildModal = function() {\n  var alert = COSAlertWindow['new']();\n\talert.setMessageText(\"Create Styles\")\n\n\tvar alignmentLabel = newLabel(\"Set alignment names\")\n\talert.addAccessoryView(alignmentLabel)\n\tvar leftInput = newInput(options.leftName)\n\talert.addAccessoryView(leftInput)\n\tvar rightInput = newInput(options.rightName)\n\talert.addAccessoryView(rightInput)\n\tvar centerInput = newInput(options.centerName)\n\talert.addAccessoryView(centerInput)\n\n\talert.addButtonWithTitle(\"OK\")\n\talert.addButtonWithTitle(\"Cancel\")\n\n\tvar response = alert.runModal()\n\n\tif (response === 1000) {\n\t\thandleModal({\n      left: leftInput.stringValue(),\n      right: rightInput.stringValue(),\n      center: centerInput.stringValue()\n    })\n\t}\n}\n\n// Handle the input from the modal\nconst handleModal = function(response) {\n  if (response.left.length() > 0) {\n\t\toptions.leftName = response.left\n\t}\n\tif (response.right.length() > 0) {\n\t\toptions.rightName = response.right\n\t}\n\tif (response.center.length() > 0) {\n\t\toptions.centerName = response.center\n\t}\n\n\trunScript()\n}\n\n// Start to build the styles\nconst runScript = function() {\n  loopText()\n}\n\n// Loop through the text layers selected\nconst loopText = function() {\n\n  if (textLayers[currentTextLayer]) {\n    var text = textLayers[currentTextLayer]\n    log(text)\n    loopColors(text, () => {\n      currentTextLayer++\n      loopText()\n    })\n  } else {\n    return\n  }\n\n}\n\nconst loopColors = function(textLayer, callback) {\n\n  if (colors[currentColorLayer]) {\n    var color = colors[currentColorLayer]\n    addColorToName(textLayer, color, () => {\n      currentColorLayer++\n      loopColors(textLayer, callback)\n    })\n  } else {\n    currentColorLayer = 0\n    if (callback) {\n      callback()\n    }\n  }\n\n}\n\n// Add color to the name of the style\nconst addColorToName = function(textLayer, color, callback) {\n  var name = textLayer.name\n  var colorName = color.name\n  if (name.includes(\"{color}\")) {\n    name = name.replace(\"{color}\", colorName)\n  } else {\n    name += \"/\" + colorName\n  }\n  name = name.replace(\" \", \"\")\n  createTextLayer(textLayer, name, color, callback)\n}\n\n// Create a text layer\nconst createTextLayer = function(textLayer, name, color, callback) {\n  var newText = new Text()\n  newText.style = textLayer.style\n  if (color) {\n    newText._object.style().primitiveTextStyle().attributes().MSAttributedStringColorAttribute.red = color.rgba.r\n    newText._object.style().primitiveTextStyle().attributes().MSAttributedStringColorAttribute.green = color.rgba.g\n    newText._object.style().primitiveTextStyle().attributes().MSAttributedStringColorAttribute.blue = color.rgba.b\n    newText._object.style().primitiveTextStyle().attributes().MSAttributedStringColorAttribute.alpha = color.rgba.a\n  }\n\n  addAlignments(newText, name, color, callback)\n}\n\n// Add left, right, center alignments\nconst addAlignments = function(textObj, name, color, callback) {\n\n  addAlignment(textObj, name, \"left\", color, () => {\n    addAlignment(textObj, name, \"right\", color, () => {\n      addAlignment(textObj, name, \"center\", color, () => {\n        if (callback) {\n          callback()\n        }\n      })\n    })\n  })\n\n}\n\n// Add specific alignment\nconst addAlignment = function(textObj, name, alignment, color, callback) {\n\n  var alignName;\n\n  if (alignment == \"left\") {\n    textObj.textAlignment = \"left\"\n    alignName = options.leftName\n  } else if (alignment == \"right\") {\n    textObj.textAlignment = \"right\"\n    alignName = options.rightName\n  } else if (alignment == \"center\") {\n    textObj.textAlignment = \"center\"\n    alignName = options.centerName\n  }\n\n  if (name.includes(\"{align}\")) {\n    name = name.replace(\"{align}\", alignName)\n  } else {\n    name += \"/\" + alignName\n  }\n\n  addStyle(textObj, name, color, callback)\n\n}\n\n// Add the style to the document shared styles\nconst addStyle = function(textObj, name, color, callback) {\n\n  var document = Sketch.getSelectedDocument()\n  var sharedStyles = document.getSharedTextStyles()\n\n  var existing = sharedStyles.filter((style) => {\n    return style.name == name\n  })[0]\n\n  if (existing) {\n    existing.style = textObj.style\n  } else {\n    var sharedStyle = new SharedStyle.fromStyle({\n      name: name,\n      style: textObj.style,\n      document: document\n    })\n  }\n\n  reAddColor(name, color, callback)\n\n}\n\nconst reAddColor = function(name, color, callback) {  \n  \n  var document = Sketch.getSelectedDocument()\n  var sharedStyles = document.getSharedTextStyles()\n\n  var textStyle = sharedStyles.filter((style) => {\n    return style.name == name\n  })[0]\n\n  if (textStyle) {\n    textStyle._object.style().primitiveTextStyle().attributes().MSAttributedStringColorAttribute.red = color.rgba.r\n    textStyle._object.style().primitiveTextStyle().attributes().MSAttributedStringColorAttribute.green = color.rgba.g\n    textStyle._object.style().primitiveTextStyle().attributes().MSAttributedStringColorAttribute.blue = color.rgba.b\n    textStyle._object.style().primitiveTextStyle().attributes().MSAttributedStringColorAttribute.alpha = color.rgba.a\n  }\n\n  if (callback) {\n    callback()\n  }\n\n}\n\nexport default onRun","module.exports = require(\"sketch\");","module.exports = require(\"sketch/dom\");","module.exports = require(\"sketch/ui\");"],"sourceRoot":""}